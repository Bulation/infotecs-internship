(()=>{"use strict";const t=function(){function t(){}return t.prototype.save=function(t,e){localStorage.setItem(t,JSON.stringify(e))},t.prototype.hasKey=function(t){return localStorage.getItem(t)},t.prototype.load=function(t){return JSON.parse(localStorage.getItem(t))},t}(),e=function(){function t(t){var e=this;this.callback=t,window.onpopstate=function(){return e.handleHash()},this.handleHash()}return t.prototype.handleHash=function(){var t=Number(location.hash.slice(1));t&&this.callback(t)},t}();const n=function(){function n(n,o){var r=this;this.model=n,this.view=o,this.storageModel=new t,this.loadDataFromStorage(),this.registerListeners(),this.view.renderPage(),this.model.loadData().then((function(){r.model.sortData(),r.model.onUpdate(r.model.sliceData()),r.router=new e((function(t){r.model.pageNumber=t,r.changeDataView(),r.model.onUpdate(r.model.sliceData())}))}))}return n.prototype.loadDataFromStorage=function(){this.storageModel.hasKey("hiddenColumnIndexes")&&(this.view.hiddenColumnIndexes=this.storageModel.load("hiddenColumnIndexes")),this.storageModel.hasKey("sortName")&&(this.model.sortName=this.storageModel.load("sortName")),this.storageModel.hasKey("orders")&&(this.model.ordersType=this.storageModel.load("orders"))},n.prototype.changeDataView=function(){this.view.destroyTable(),this.view.renderPreloader()},n.prototype.registerListeners=function(){var t=this;this.view.paginationClickHandle=function(e){location.hash=String(t.model.pageNumber+e)},this.view.onSort=function(e){t.model.sortName=e,t.model.changeOrders(e),location.hash="1",t.changeDataView(),t.model.sortData(),t.model.onUpdate(t.model.sliceData())},this.view.sendData=function(e,n){return o=t,r=void 0,s=function(){return function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(t){switch(t.label){case 0:return this.changeDataView(),[4,this.model.postData(e,n)];case 1:return t.sent(),[4,this.model.loadData()];case 2:return t.sent(),this.model.sortData(),this.model.onUpdate(this.model.sliceData()),[2]}}))},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{l(s.next(t))}catch(t){e(t)}}function a(t){try{l(s.throw(t))}catch(t){e(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof i?o:new i((function(t){t(o)}))).then(n,a)}l((s=s.apply(o,r||[])).next())}));var o,r,i,s},this.model.onUpdate=function(e){t.view.destroyErrorMessage(),t.view.destroyPreloader(),t.view.renderTable(e,t.model.pageNumber,t.model.ordersType),t.view.editPagination(t.model.pageNumber,t.model.countOfItems)},this.model.onError=function(e){t.view.destroyPreloader(),t.view.renderErrorMessage(e)},window.onbeforeunload=function(){t.storageModel.save("hiddenColumnIndexes",t.view.hiddenColumnIndexes),t.storageModel.save("sortName",t.model.sortName),t.storageModel.save("orders",t.model.ordersType)},window.onclick=function(e){t.view.select.isOptionsOpen&&e.target instanceof HTMLElement&&!t.view.select.node.contains(e.target)&&(t.view.select.optionsList.destroy(),t.view.select.isOptionsOpen=!1)}},n}();var o="https://63ea06f9e0ac9368d6487f93.mockapi.io/json",r=["firstName","lastName","about","eyeColor"],i=4,s={blue:"#0000ff",brown:"#a52a2a",red:"#ff0000",green:"#008000"},a="Произошла ошибка при отправке данных. Попробуйте повторить попозже",l=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},u=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};const c={getData:function(){return l(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(o))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))},updateDataItem:function(t,e){return l(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(o,"/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})];case 1:if(404===(n=r.sent()).status)throw new Error("People with ".concat(e," id is not found"));return[4,n.json()];case 2:return[2,r.sent()]}}))}))}};var p=function(){return p=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},p.apply(this,arguments)},d=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},h=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};const f=function(){function t(){this._pageNumber=1,this._sortName="",this.ordersType={firstName:"desc",lastName:"asc",about:"asc",eyeColor:"asc"}}return Object.defineProperty(t.prototype,"sortName",{get:function(){return this._sortName},set:function(t){this._sortName=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageNumber",{get:function(){return this._pageNumber},set:function(t){t<1||t>this.peopleData.length/10?this._pageNumber=1:this._pageNumber=t},enumerable:!1,configurable:!0}),t.prototype.loadData=function(){return d(this,void 0,void 0,(function(){var t;return h(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this,[4,c.getData()];case 1:return t.peopleData=e.sent(),this.peopleData=this.peopleData.map((function(t){return p(p({},t),{eyeColor:s[t.eyeColor]?s[t.eyeColor]:t.eyeColor})})),this.countOfItems=this.peopleData.length,[3,3];case 2:return e.sent(),this.onError(a),[3,3];case 3:return[2]}}))}))},t.prototype.postData=function(t,e){return d(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,c.updateDataItem(t,e)];case 1:return n.sent(),[3,3];case 2:return n.sent(),this.onError(a),[3,3];case 3:return[2]}}))}))},t.prototype.sortData=function(){var t=this;this.peopleData.sort((function(e,n){return t.comparatorCallback(e,n)}))},t.prototype.comparatorCallback=function(t,e){var n=t[this.sortName],o=e[this.sortName];return"firstName"!==this.sortName&&"lastName"!==this.sortName||(n=t.name[this.sortName],o=e.name[this.sortName]),n<o?"asc"===this.ordersType[this.sortName]?-1:1:"asc"===this.ordersType[this.sortName]?1:-1},t.prototype.sliceData=function(){return this.peopleData.slice(10*(this.pageNumber-1),10*this.pageNumber)},t.prototype.changeOrders=function(t){var e=this;"asc"===this.ordersType[t]?this.ordersType[t]="desc":this.ordersType[t]="asc",Object.keys(this.ordersType).map((function(n){n!==t&&(e.ordersType[n]="asc")}))},t}(),b=function(){function t(t,e,n,o){void 0===n&&(n=""),void 0===o&&(o="");var r=document.createElement(e);r.className=n,r.textContent=o,t.append(r),this.parentNode=t,this.node=r,this.initialDisplayStyle=this.getStyle("display")}return t.prototype.setClass=function(t){return this.node.classList.add(t),this},t.prototype.hasClass=function(t){return this.node.classList.contains(t)},t.prototype.removeClass=function(t){return this.node.classList.remove(t),this},t.prototype.setStyle=function(t,e){return this.node.style.setProperty(t,e),this},t.prototype.getStyle=function(t){return getComputedStyle(this.node).getPropertyValue(t)},t.prototype.setAttribute=function(t,e){return this.node.setAttribute(t,e),this},t.prototype.getAttribute=function(t){return this.node.getAttribute(t)},t.prototype.removeAttribute=function(t){return this.node.removeAttribute(t),this},t.prototype.setListener=function(t,e,n){return this.node.addEventListener(t,e,n),this},t.prototype.setContent=function(t){return this.node.textContent=t,this},t.prototype.destroy=function(){this.node.remove()},t}();var m,y=(m=function(t,e){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},m(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const v=function(t){function e(e,n,o,r,i,s,a){void 0===o&&(o=""),void 0===r&&(r="");var l=t.call(this,e,n,o,r)||this;return l.setAttribute("role","select"),l.isOptionsOpen=!1,l.checkedIndexes=a.slice(),l.placeholderContainer=new b(l.node,"div","select-placeholder","").setListener("click",(function(){l.isOptionsOpen?(l.optionsList.destroy(),l.isOptionsOpen=!1):(l.isOptionsOpen=!0,l.optionsList=new b(l.node,"ul","select-options-list",""),i.forEach((function(t,e){var n=new b(l.optionsList.node,"li","select-options-list__option",t).setListener("click",(function(){s(e),o.hasClass("select-options-list__option-checkbox_selected")?(l.checkedIndexes=l.checkedIndexes.filter((function(t){return t!==e})),o.removeClass("select-options-list__option-checkbox_selected"),o.setAttribute("aria-checked","false"),n.setAttribute("aria-selected","false")):(l.checkedIndexes.push(e),o.setClass("select-options-list__option-checkbox_selected"),o.setAttribute("aria-checked","true"),n.setAttribute("aria-selected","true"))})).setAttribute("role","option"),o=new b(n.node,"span","select-options-list__option-checkbox","").setAttribute("role","checkbox");void 0!==l.checkedIndexes.find((function(t){return t===e}))&&o.setClass("select-options-list__option-checkbox_selected")})))})),l.placeholder=new b(l.placeholderContainer.node,"div","select-placeholder__text","Hide column").setAttribute("aria-label","Open select").setAttribute("title","Open select"),l.placeholderIcon=new b(l.placeholderContainer.node,"span","select-placeholder__icon",""),l}return y(e,t),e}(b);var w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const _=function(t){function e(e,n,o,r,i,s){void 0===o&&(o=""),void 0===r&&(r=""),void 0===i&&(i=""),void 0===s&&(s="");var a=t.call(this,e,n,o,"")||this;return a.setAttribute("placeholder",r),a.setAttribute("id",i),a.node.value=s,a}return w(e,t),e}(b);var g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const C=function(t){function e(e,n,o,r,i,s){void 0===o&&(o=""),void 0===r&&(r="");var a=t.call(this,e,n,o,r)||this;return a.peopleItem=i,a.renderFormBody(),a.setListener("submit",(function(t){return a.onSubmit(t)})),a.inputsObj=[{input:a.inputName,errorMsg:a.nameError},{input:a.inputLastName,errorMsg:a.lastNameError},{input:a.inputPhone,errorMsg:a.phoneError}],a.onSend=s,a}return g(e,t),e.prototype.renderFormBody=function(){var t=this;this.labelName=new b(this.node,"label","form__label","Firstname").setAttribute("for","name"),this.inputName=new _(this.node,"input","form__input","Enter firstname","name",this.peopleItem.name.firstName).setAttribute("minlength","2").setListener("input",(function(){return t.checkValidity(t.inputName.node,t.nameError)})),this.nameError=new b(this.node,"span","form__error-msg","Name must contain at least 2 symbols"),this.labelLastName=new b(this.node,"label","form__label","Lastname").setAttribute("for","lastname"),this.inputLastName=new _(this.node,"input","form__input","Enter lastname","lastname",this.peopleItem.name.lastName).setAttribute("minlength","2").setListener("input",(function(){return t.checkValidity(t.inputLastName.node,t.lastNameError)})),this.lastNameError=new b(this.node,"span","form__error-msg","Lastname must contain at least 2 symbols"),this.labelAbout=new b(this.node,"label","form__label","About").setAttribute("for","about"),this.inputAbout=new _(this.node,"textarea","form__textarea","Enter info about","about",this.peopleItem.about),this.labelPhone=new b(this.node,"label","form__label","Phone").setAttribute("for","phone"),this.inputPhone=new _(this.node,"input","form__input","Enter phone info","phone",this.peopleItem.phone).setAttribute("type","tel").setAttribute("pattern","^(\\+)?7(\\s+)?\\(?[0-9]{3}\\)?(\\s+)?[0-9]{3}(-|\\s+)?[0-9]{4}$").setListener("input",(function(){return t.checkValidity(t.inputPhone.node,t.phoneError)})),this.phoneError=new b(this.node,"span","form__error-msg","Phone must me written with 11 digits, example - +7 (999) 999-9999"),this.labelEyeColor=new b(this.node,"label","form__label","Eye color").setAttribute("for","eyecolor"),this.inputEyeColor=new _(this.node,"input","form__input-eye-color","","eyecolor",this.peopleItem.eyeColor).setAttribute("type","color"),this.submitBtn=new b(this.node,"button","btn form__btn","Submit").setAttribute("type","submit"),this.resetBtn=new b(this.node,"button","btn","Reset").setAttribute("type","button").setListener("click",(function(){t.destroy()}))},e.prototype.onSubmit=function(t){var e=this;t.preventDefault();var n=!0;this.inputsObj.forEach((function(t){e.checkValidity(t.input.node,t.errorMsg)||(n=!1)})),n&&(this.onSend({name:{firstName:this.inputName.node.value,lastName:this.inputLastName.node.value},phone:this.inputPhone.node.value,about:this.inputAbout.node.value,eyeColor:this.inputEyeColor.node.value},this.peopleItem.id),this.destroy())},e.prototype.checkValidity=function(t,e){return t.validity.valid&&t.value.length?(e.removeClass("form__error-msg_active"),this.submitBtn.removeAttribute("disabled"),!0):(e.setClass("form__error-msg_active"),this.submitBtn.setAttribute("disabled","true"),!1)},e}(b);var N=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const A=function(t){function e(e,n,o,r,i){void 0===o&&(o=""),void 0===r&&(r="");var s=t.call(this,e,n,o,r)||this;return s.prevButton=new b(s.node,"button","btn pagination__prev","Prev").setListener("click",(function(){return i(-1)})).setAttribute("aria-label","Move to previous page").setAttribute("title","Move to previous page"),s.pageNumber=new b(s.node,"div","pagination__page-number","1").setAttribute("aria-label","Page number").setAttribute("title","Page number"),s.nextButton=new b(s.node,"button","btn pagination__next","Next").setListener("click",(function(){return i(1)})).setAttribute("aria-label","Move to next page").setAttribute("title","Move to next page"),s}return N(e,t),e.prototype.setPageNumber=function(t){this.pageNumber.setContent(String(t))},e.prototype.togglePaginationButton=function(t,e){e?t.setAttribute("disabled","true"):t.removeAttribute("disabled")},e}(b);var O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),x=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};const k=function(t){function e(e,n,o,r,s,a,l,u){void 0===o&&(o=""),void 0===r&&(r="");var c=t.call(this,e,n,o,r)||this;return c.columns=x([],new Array(i).fill([]).map((function(){return[]})),!0),c.hiddenColumnIndexes=s,c.onRowClick=a,c.onSort=l,c.ordersType=u,c}return O(e,t),e.prototype.renderTableHead=function(){var t=this;this.thead=new b(this.node,"thead","table__head",""),new b(this.thead.node,"th","table__head-item",""),r.forEach((function(e,n){var o=new b(t.thead.node,"th","table__head-item",e).setClass("asc"===t.ordersType[e]?"table__head-item_asc":"table__head-item_desc").setListener("click",(function(){t.onSort(e),t.toggleSortClass(o,n)})).setAttribute("aria-label","Sort column").setAttribute("title","Sort column");t.columns[n].push(o)}))},e.prototype.renderTableBody=function(t,e){var n=this;this.tbody=new b(this.node,"tbody","table__body",""),t.forEach((function(t,o){var r=new b(n.tbody.node,"tr","table__row","").setListener("click",(function(){return n.onRowClick(t)}));new b(r.node,"td","table__col",String(o+1+10*(e-1))),n.columns[0].push(new b(r.node,"td","table__col","".concat(t.name.firstName)).setAttribute("aria-label","Open form for edit row").setAttribute("title","Open form for edit row")),n.columns[1].push(new b(r.node,"td","table__col","".concat(t.name.lastName)).setAttribute("aria-label","Open form for edit row").setAttribute("title","Open form for edit row")),n.columns[2].push(new b(r.node,"td","table__col table__col-about","".concat(t.about)).setAttribute("aria-label","Open form for edit row").setAttribute("title","Open form for edit row")),n.columns[3].push(new b(r.node,"td","table__col","").setStyle("background-color",t.eyeColor).setAttribute("aria-label","Open form for edit row").setAttribute("title","Open form for edit row"))}))},e.prototype.toggleSortClass=function(t,e){t.hasClass("table__head-item_desc")?(t.removeClass("table__head-item_desc"),t.setClass("table__head-item_asc")):(t.removeClass("table__head-item_asc"),t.setClass("table__head-item_desc")),this.columns.forEach((function(t,n){e!==n&&t[0].removeClass("table__head-item_desc")}))},e}(b),P=function(){function t(t){var e=this;this.node=t,this.hiddenColumnIndexes=[],this.onRowClick=function(t){e.destroyForm(),e.renderForm(t)}}return t.prototype.renderPage=function(){this.renderHeader(),this.main=new b(this.node,"main","main",""),this.renderSelect(),this.renderTableContainer(),this.renderPreloader(),this.renderPagination()},t.prototype.renderHeader=function(){this.header=new b(this.node,"header","header",""),this.headerTitle=new b(this.node,"h1","header__title","Page title")},t.prototype.renderSelect=function(){var t=this;this.select=new v(this.main.node,"div","select","",r,(function(e){void 0!==t.hiddenColumnIndexes.find((function(t){return t===e}))?(t.hiddenColumnIndexes=t.hiddenColumnIndexes.filter((function(t){return t!==e})),t.toggleColumnDisplay(!1,e)):(t.hiddenColumnIndexes.push(e),t.toggleColumnDisplay(!0,e))}),this.hiddenColumnIndexes)},t.prototype.renderTableContainer=function(){this.tableSection=new b(this.main.node,"section","table-section",""),this.tableContainer=new b(this.tableSection.node,"div","table-container","")},t.prototype.renderTable=function(t,e,n){var o=this;this.table=new k(this.tableContainer.node,"table","table","",this.hiddenColumnIndexes,this.onRowClick,this.onSort,n),this.table.renderTableHead(),this.table.renderTableBody(t,e),this.hiddenColumnIndexes.length&&this.hiddenColumnIndexes.forEach((function(t){o.toggleColumnDisplay(!0,t)}))},t.prototype.destroyTable=function(){this.table&&this.table.destroy()},t.prototype.renderPreloader=function(){this.preloader=new b(this.tableContainer.node,"div","preloader",""),new b(this.preloader.node,"div","preloader__dot","");var t=new b(this.preloader.node,"div","preloader__dots-list","");new b(t.node,"span","",""),new b(t.node,"span","",""),new b(t.node,"span","","")},t.prototype.destroyPreloader=function(){this.preloader.destroy()},t.prototype.renderErrorMessage=function(t){this.errorMessage=new b(this.tableContainer.node,"div","preloader",t)},t.prototype.destroyErrorMessage=function(){this.errorMessage&&this.errorMessage.destroy()},t.prototype.toggleColumnDisplay=function(t,e){t?this.table.columns[e].forEach((function(t){t.setStyle("display","none")})):this.table.columns[e].forEach((function(t){t.setStyle("display",t.initialDisplayStyle)}))},t.prototype.renderPagination=function(){this.pagination=new A(this.main.node,"div","pagination","",this.paginationClickHandle)},t.prototype.editPagination=function(t,e){this.pagination.togglePaginationButton(this.pagination.prevButton,1===t),this.pagination.togglePaginationButton(this.pagination.nextButton,t===Math.floor(e/10)),this.pagination.setPageNumber(t)},t.prototype.destroyPagination=function(){this.paginationContainer.destroy()},t.prototype.renderForm=function(t){this.form=new C(this.tableSection.node,"form","form","",t,this.sendData).setAttribute("novalidate","true")},t.prototype.destroyForm=function(){this.form&&this.form.destroy()},t}();new n(new f,new P(document.body))})();